(()=>{var e={965:()=>{const e=new Audio,t=document.querySelector("#play-prev"),n=document.querySelector("#play"),o=document.querySelector("#play-next"),a=document.querySelector("#play-list"),r=document.querySelector("#volume"),c=document.querySelector("#audioTime"),u=document.querySelector("#audioVolume"),i=document.querySelector("#duration");let l,s=0,d=0;function m(){e.paused?(e.play(),n.classList.add("pause")):e.pause()}function f(t){t.classList.contains("playing")||(l.forEach((e=>e.classList.remove("playing"))),t.classList.add("playing"),e.src=t.dataset.src,e.currentTime=0,h(),m())}function g(){s++,s%=d,f(l[s])}function y(e,t){e.value=t,e.style.background=`linear-gradient(to right, #ffffff8c 0%, #ffffffde ${t}%, #ffffff00 ${t}%, #ffffff00 100%)`}function h(){let t=Math.ceil(e.currentTime/e.duration*100)||0;y(c,t),i.textContent=`${v(e.currentTime)} / ${v(e.duration)}`,e.currentTime==e.duration&&g()}function v(e){let t=Math.floor(e/60)||0,n=Math.floor(e%60)||0;return t||n?n<10?`${t}:0${n}`:`${t}:${n}`:"0:0"}e.volume=.5,n.addEventListener("click",m),e.addEventListener("pause",(function(){n.classList.remove("pause")})),o.addEventListener("click",g),t.addEventListener("click",(function(){s--,s=(s+d)%d,f(l[s])})),a.addEventListener("click",(function(e){f(e.target)})),async function(){const e=await fetch("../assets/Playlist.json");var t;t=await e.json(),d=t.length,t.forEach((e=>{let t=document.createElement("li");t.textContent=`${e.title} - ${e.duration}`,t.dataset.src=e.src,t.classList.add("play-item"),a.append(t)})),l=document.querySelectorAll(".play-item"),f(l[0]),m()}(),c.addEventListener("input",(function(t){let n=t.target.value;y(t.target,n),e.currentTime=n*e.duration/100})),u.addEventListener("input",(function(t){let n=t.target.value;y(t.target,n),e.volume=n/100,n<1?r.classList.add("mute"):r.classList.remove("mute")})),e.addEventListener("timeupdate",h),r.addEventListener("click",(function(){e.muted?(r.classList.remove("mute"),e.muted=!1,y(u,100*e.volume)):(r.classList.add("mute"),e.muted=!0,y(u,0))}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";const e={language:"en",photoSource:"github",blocks:["time","date","greeting","quote","weather","audio","todolist"]},t=document.querySelector("#time"),o=document.querySelector("#date"),a=document.querySelector("#greeting"),r=document.querySelector("#name"),c={weekday:"long",month:"long",day:"numeric"};let u,i,l=new Date;const s={en:["Good night","Good morning","Good afternoon","Good evening"],ru:["Доброй ночи","Доброе утро","Добрый день","Добрый вечер"]};function d(t=new Date){i=t;let n="en"==e.language?"en-US":"ru-Ru";o.textContent=l.toLocaleDateString(n,c)}function m(e=(new Date).getHours()){return u=e,Math.floor(e/6)}function f(t=l.getHours()){a.textContent=s[e.language][m(t)]}!function e(){l=new Date;const n=l.getHours(),o=l.getDate();!function(n){const o=n.toLocaleTimeString();t.textContent=o,setTimeout(e,1e3)}(l),i!==o&&d(l),u!==n&&f(n)}();const g=document.querySelector("#quote"),y=document.querySelector("#author"),h=document.querySelector("#change-quote");async function v(){let t=e.language;const n=await fetch("../assets/Quotes.json"),o=await n.json();let a=Math.round(19*Math.random());g.textContent=o[a][`text-${t}`],y.textContent=o[a][`author-${t}`]}v(),h.addEventListener("click",v);const p=document.querySelector(".weather-icon"),w=document.querySelector(".temperature"),S=document.querySelector(".weather-description"),q=document.querySelector(".city"),L=document.querySelector(".wind"),x=document.querySelector(".humidity"),E=document.querySelector(".weather-error");let k={en:{wind:"wind speed",windUnits:"m/s",humidity:"humidity"},ru:{wind:"скорость ветра",windUnits:"м/с",humidity:"влажность"}};async function $(t="minsk"){let n=e.language;const o=`https://api.openweathermap.org/data/2.5/weather?q=${t}&lang=${n}&appid=ef5e10fdc5ecfe3b8b6db6cb6096d245&units=metric`;try{const e=await fetch(o);if(e.ok){const t=await e.json();q.value=t.name,p.className="weather-icon owf",p.classList.add(`owf-${t.weather[0].id}`),L.textContent=k[n].wind+" "+Math.round(t.wind.speed)+" "+k[n].windUnits,w.textContent=`${Math.round(t.main.temp)}°C`,x.textContent=k[n].humidity+" "+Math.round(t.main.humidity)+"%",S.textContent=t.weather[0].description}else q.value="Unavailable",E.textContent=e.statusText}catch(e){q.value="Unavailable",E.textContent=e.message}setTimeout($,6e5)}$(q.value||"minsk"),q.addEventListener("change",(()=>{$(q.value)}));const C=document.querySelector("body"),b=(document.querySelector(".wrapper"),document.querySelector(".slide-next")),M=document.querySelector(".slide-prev");let T,j,U=!1;const D=["night","morning","afternoon","evening"];function I(){U=!1;let e=document.createElement("img");e.src=T[j].url_h,e.onload=()=>{C.style.backgroundImage=`url("${T[j].url_h}")`,e.remove(),U=!0}}!async function(){const e=`nature,${D[m()]}`,t=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=dec87a841a63127676ff371d3a9b2da5&tags=${e}&extras=url_h&format=json&nojsoncallback=1`;console.log("tags",e);let n=await fetch(t),o=await n.json(),a=0;T=o.photos.photo.filter((e=>{if(e.url_h&&a<20)return a++,!0})),j=Math.round(20*Math.random()),I()}(),b.addEventListener("click",(function(){U&&(j=(j+1)%20,I())})),M.addEventListener("click",(function(){U&&(j=(j+19)%20,I())})),n(965);const _=document.querySelector("#name"),G=document.querySelector(".city"),A=document.querySelector("#settings"),H=document.querySelectorAll(".language"),N=document.querySelector("#en"),R=document.querySelector("#ru");window.addEventListener("beforeunload",(function(){localStorage.setItem("name",_.value),localStorage.setItem("city",G.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(_.value=localStorage.getItem("name"),G.value=localStorage.getItem("city"))})),A.addEventListener("click",(function(t){t.target.classList.contains("language")&&(H.forEach((e=>e.classList.remove("active"))),t.target.classList.add("active"),t.target.classList.contains("language_eng")?(N.textContent="ENG",R.textContent="RU",e.language="en"):(N.textContent="АНГ",R.textContent="РУС",e.language="ru"),f(),d(),$(G.value),v(),"en"==e.language?r.placeholder="[Enter name]":r.placeholder="[Введите имя]")}))})()})();